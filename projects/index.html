<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>رسلان للحلول الذكية | جميع مشاريع قص الخرسانة، الترميم، التخريم، والإنشاءات في مصر</title>
    <link rel="canonical" href="https://raslansmart.com/projects.html">
    
    <meta name="description" content="اكتشف جميع مشاريع رسلان للحلول الذكية في قص الخرسانة، تخريم الأشاير، الترميم، والإنشاءات. استعرض أعمالنا المنجزة بدقة واحترافية عالية في مصر.">
    
    <meta name="keywords" content="مشاريع رسلان, قص خرسانة, تخريم خرسانة, ترميم منشآت, تدعيم مباني, أعمال إنشائية, شركات مقاولات مصر, معرض أعمال, صور مشاريع, مشاريع هندسية, Raslan projects, concrete cutting projects, structural strengthening projects">
    
    <link rel="icon" href="https://i.postimg.cc/mDcf1TN3/Untitle22d-8-01.png" type="image/png">
    
    <link rel="preload" href="https://fonts.gstatic.com/s/cairo/v29/SLXGc1nY6HkvalbFh7Pz7_l0e5J-Wz5o.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"></noscript>
    
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <script src="https://cdn.tailwindcss.com" defer></script>
    
    <style>
        /* Minified and optimized CSS */
        :root{--primary:#0a3d62;--secondary:#1a73e8;--white:#fff;--light-gray:#f8fbfd;--dark-gray:#4a5568;--glass-bg:rgba(255,255,255,.1);--glass-border:rgba(255,255,255,.2);--section-bg-start-color:#f8fbfd;--section-bg-end-color:#eef5fb;--section-bg-alt-start-color:#eef5fb;--section-bg-alt-end-color:#f8fbfd}*{margin:0;padding:0;box-sizing:border-box;font-family:Cairo,sans-serif;scroll-behavior:smooth}body{overflow-x:hidden;background-color:var(--light-gray)}.glass-card{background:var(--glass-bg);border:1px solid var(--glass-border);box-shadow:0 10px 40px rgba(0,0,0,.15);transition:all .4s cubic-bezier(.25,.8,.25,1);border-radius:1.5rem;cursor:pointer}.glass-card:hover{transform:translateY(-8px) scale(1.01);box-shadow:0 20px 45px rgba(0,0,0,.25)}.glass-card .image-wrapper{position:relative;overflow:hidden;height:256px}.glass-card .image-wrapper img{height:100%;width:100%;object-fit:cover;object-position:center;opacity:0;transition:opacity .5s ease-in-out}.glass-card .image-wrapper img.loaded{opacity:1}.glass-card .image-wrapper::before{content:'';position:absolute;bottom:0;left:0;width:100%;height:50%;background:linear-gradient(to top,rgba(0,0,0,.7),transparent);opacity:0;transition:opacity .3s ease;z-index:1}.glass-card:hover .image-wrapper::before{opacity:1}.page-header{background-color:var(--primary);color:var(--white);padding:.5rem 1rem;text-align:center;box-shadow:0 2px 10px rgba(0,0,0,.1)}.page-header .header-content-container{display:flex;justify-content:center;align-items:center;width:100%}.page-header .header-logo img{height:40px;width:auto}.projects-hero-text{background-color:var(--primary);color:var(--white);padding:3rem 1rem 4rem;text-align:center;box-shadow:0 2px 10px rgba(0,0,0,.1)}.projects-hero-text h1{font-size:3rem;font-weight:700;margin-bottom:1rem}.projects-hero-text p{font-size:1.25rem;opacity:.8;max-width:800px;margin-left:auto;margin-right:auto}.modal{display:none;position:fixed;z-index:2000;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgba(255,255,255,.9);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);justify-content:center;align-items:center;animation:fadeIn .3s ease-out}.modal-content-wrapper{position:relative;margin:auto;max-width:90%;max-height:90%;display:flex;flex-direction:column;align-items:center;background-color:transparent;border-radius:1.5rem;padding:20px;box-shadow:none}.modal-main-image-container{width:100%;max-width:900px;height:65vh;display:flex;justify-content:center;align-items:center;margin-bottom:20px;overflow:hidden}.modal-content-image{width:auto;height:100%;max-width:100%;object-fit:contain;flex-shrink:0;opacity:0;transition:opacity .3s ease-in-out}.modal-content-image.loaded{opacity:1}.modal-text-content{color:var(--dark-gray);text-align:center;max-width:900px;padding:0 15px;margin-bottom:20px}.modal-text-content h3{font-size:2rem;font-weight:700;margin-bottom:.75rem;color:var(--primary)}.modal-text-content p{font-size:1.1rem;line-height:1.6;margin-bottom:1rem}.modal-gallery-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(80px,1fr));gap:10px;margin-top:15px;max-width:900px;overflow-x:auto;padding-bottom:10px;justify-content:center;align-items:center}.modal-gallery-grid img{width:100%;height:80px;object-fit:cover;border-radius:.5rem;cursor:pointer;border:2px solid transparent;transition:border-color .2s ease,transform .2s ease}.modal-gallery-grid img.active-thumbnail{border-color:var(--secondary);transform:scale(1.05)}.modal-gallery-nav{display:none}.close-button{position:absolute;top:10px;right:15px;color:var(--dark-gray);font-size:35px;font-weight:700;transition:.3s;cursor:pointer}.close-button:hover,.close-button:focus{color:var(--primary);text-decoration:none;cursor:pointer}.view-all-images-text{position:absolute;bottom:10px;left:50%;transform:translateX(-50%);color:var(--white);font-size:.9rem;font-weight:500;text-align:center;width:100%;pointer-events:none;z-index:2;opacity:1;transition:opacity .3s ease}.glass-card .image-wrapper::after{content:'';position:absolute;bottom:0;left:0;width:100%;height:20%;background:linear-gradient(to bottom,rgba(0,0,0,0),rgba(0,0,0,.6));z-index:1;pointer-events:none}.whatsapp-float{position:fixed;bottom:30px;right:30px;background-color:rgba(37,211,102,.8);color:white;border-radius:50%;width:65px;height:65px;display:flex;align-items:center;justify-content:center;font-size:32px;box-shadow:0 10px 35px rgba(0,0,0,.25);z-index:1000;transition:all .3s cubic-bezier(.25,.8,.25,1);border:1px solid rgba(255,255,255,.3)}.whatsapp-float:hover{transform:scale(1.15) rotate(5deg);background-color:rgba(37,211,102,1);box-shadow:0 15px 40px rgba(37,211,102,.4)}.whatsapp-notification{position:fixed;bottom:50px;right:110px;background-color:var(--primary);color:var(--white);padding:12px 18px;border-radius:10px;font-size:15px;opacity:0;visibility:hidden;transform:translateX(20px);transition:opacity .4s ease,visibility .4s ease,transform .4s ease;z-index:999;white-space:nowrap;box-shadow:0 5px 20px rgba(0,0,0,.15)}.whatsapp-notification.show{opacity:1;visibility:visible;transform:translateX(0)}.footer{background-color:var(--primary);color:var(--white);padding:2rem 1rem;text-align:center;font-size:.95rem}.footer .container{display:flex;flex-direction:column;gap:.75rem}.footer p{margin:0;line-height:1.5}.footer a{color:var(--secondary);text-decoration:none;transition:color .3s ease}.footer a:hover{color:var(--white);text-decoration:underline}@media (min-width:768px){.footer .container{flex-direction:row;justify-content:space-between;align-items:center;text-align:left}html[lang="ar"] .footer .container{text-align:right}}@media (max-width:768px){.projects-hero-text h1{font-size:2.5rem}.projects-hero-text p{font-size:1rem}.project-card-title-mobile{font-size:1.5rem}.glass-card .image-wrapper{height:180px}.glass-card .p-8{padding:1.5rem}.glass-card h3{font-size:1.75rem}.glass-card p{font-size:.9rem}.modal-content-image{max-height:55vh}.modal-text-content h3{font-size:1.5rem}.modal-text-content p{font-size:1rem}.modal-gallery-grid img{height:60px}.close-button{font-size:30px;top:5px;right:10px}.view-all-images-text{font-size:.8rem;bottom:5px}.whatsapp-float{width:55px;height:55px;font-size:28px;bottom:20px;right:20px}.whatsapp-notification{bottom:40px;right:90px;padding:10px 15px;font-size:14px}}html[lang="en"] [data-lang="ar"]{display:none}html[lang="ar"] [data-lang="en"]{display:none}html[lang="en"]{direction:ltr}html[lang="ar"]{direction:rtl}@keyframes fadeIn{from{opacity:0}to{opacity:1}}
    </style>
</head>
<body>
    <header class="page-header">
        <div class="header-content-container">
            <div class="header-logo">
                <h1 style="display: none;">رسلان للحلول الذكية - مشاريع</h1>
                <img src="https://i.postimg.cc/vTSqdn65/20250620-0236-Soapstone-on-Quarry-remix-01jy58qdz9eyxrq9wmb23hy49x-01.png" alt="شعار رسلان للحلول الذكية" class="h-10 w-auto" loading="lazy">
            </div>
        </div>
    </header>

    <section class="projects-hero-text">
        <div class="container mx-auto px-4">
            <h1 data-lang="ar">جميع مشاريعنا</h1>
            <h1 data-lang="en">All Our Projects</h1>
            <p data-lang="ar">استكشف مجموعة كاملة من المشاريع التي أنجزناها بنجاح.</p>
            <p data-lang="en">Explore the complete collection of projects we've successfully completed.</p>
        </div>
    </section>

    <section id="all-projects" class="py-20 section-bg">
        <div class="container mx-auto px-4">
            <div id="projects-full-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                </div>
        </div>
    </section>

    <div id="projectGalleryModal" class="modal">
        <span class="close-button" role="button" aria-label="Close">&times;</span>
        <div class="modal-content-wrapper">
            <div class="modal-main-image-container">
                <img class="modal-content-image" id="modalImage" loading="lazy" alt="Project main image in gallery">
            </div>
            <div class="modal-text-content">
                <h3 id="modalProjectTitleAr" data-lang="ar"></h3>
                <h3 id="modalProjectTitleEn" data-lang="en"></h3>
                <p id="modalProjectDescAr" data-lang="ar"></p>
                <p id="modalProjectDescEn" data-lang="en"></p>
                <div id="modalGalleryThumbnails" class="modal-gallery-grid"></div>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container mx-auto px-4">
            <p id="footer-copyright-ar" class="order-2 md:order-1" data-lang="ar"></p>
            <p id="footer-copyright-en" class="order-2 md:order-1" data-lang="en"></p>
            <p id="footer-powered-by-ar" class="order-1 md:order-2" data-lang="ar"></p>
            <p id="footer-powered-by-en" class="order-1 md:order-2" data-lang="en"></p>
        </div>
    </footer>

    <a id="whatsapp-float-link" href="#" target="_blank" class="whatsapp-float" aria-label="WhatsApp chat">
        <i class="fab fa-whatsapp"></i>
    </a>
    <div class="whatsapp-notification" id="whatsapp-notification" aria-live="polite">
        <span data-lang="ar">اطلب استشارتك المجانية الان</span>
        <span data-lang="en">Get your free consultation now</span>
    </div>

    <script type="module" defer>
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-app.js";
        import { getDatabase, ref, get } from "https://www.gstatic.com/firebasejs/11.9.1/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyA12fSyvBCdVF62xVwGaEuJXlJOpGEMoKI",
            authDomain: "raslan2025-47c6c.firebaseapp.com",
            databaseURL: "https://raslan2025-47c6c-default-rtdb.firebaseio.com",
            projectId: "raslan2025-47c6c",
            storageBucket: "raslan2025-47c6c.appspot.com",
            messagingSenderId: "320802083048",
            appId: "1:320802083048:web:3c2d279b270443bfbc395d",
            measurementId: "G-W1GWY4X7D6"
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        let currentGalleryImages = [];
        let currentImageIndex = 0;
        const projectGalleryModal = document.getElementById('projectGalleryModal');
        const modalImage = document.getElementById('modalImage');
        const closeButton = document.querySelector('.close-button');
        const modalProjectTitleAr = document.getElementById('modalProjectTitleAr');
        const modalProjectTitleEn = document.getElementById('modalProjectTitleEn');
        const modalProjectDescAr = document.getElementById('modalProjectDescAr');
        const modalProjectDescEn = document.getElementById('modalProjectDescEn');
        const modalGalleryThumbnails = document.getElementById('modalGalleryThumbnails');

        async function fetchRealtimeData(path) {
            try {
                const snapshot = await get(ref(db, path));
                if (snapshot.exists()) {
                    const data = snapshot.val();
                    if (path !== 'about' && path !== 'contact' && path !== 'footer' && typeof data === 'object' && data !== null) {
                        return Object.values(data);
                    }
                    return data;
                }
                console.warn(`No data found at path: ${path}`);
                return null;
            } catch (error) {
                console.error(`Error fetching data from ${path}:`, error);
                return null;
            }
        }

        async function loadAllProjects() {
            const projects = await fetchRealtimeData('projects');
            const container = document.getElementById('projects-full-container');
            if (!projects || !container) return;

            const projectsArray = projects;

            container.innerHTML = '';
            projectsArray.forEach(project => {
                const projectCard = document.createElement('div');
                projectCard.classList.add('glass-card', 'rounded-2xl', 'overflow-hidden', 'shadow-lg', 'cursor-pointer');

                projectCard.innerHTML = `
                    <div class="image-wrapper">
                        <img src="${project.mainImageUrl || ''}" alt="${project.titleAr || ''}" class="w-full object-cover" loading="lazy">
                        <span class="view-all-images-text" data-lang="ar">اضغط لعرض جميع الصور</span>
                        <span class="view-all-images-text" data-lang="en">Click to view all images</span>
                    </div>
                    <div class="p-8">
                        <h3 class="text-2xl font-bold mb-3 text-[#0c4873] project-card-title-mobile" data-lang="ar">${project.titleAr || ''}</h3>
                        <h3 class="text-2xl font-bold mb-3 text-[#0c4873] project-card-title-mobile" data-lang="en">${project.titleEn || ''}</h3>
                        <p class="text-gray-700" data-lang="ar">${project.descAr || ''}</p>
                        <p class="text-gray-700" data-lang="en">${project.descEn || ''}</p>
                    </div>
                `;

                const mainImage = projectCard.querySelector('.image-wrapper img');
                mainImage.onload = () => {
                    mainImage.classList.add('loaded');
                };
                if (mainImage.complete) {
                    mainImage.classList.add('loaded');
                }

                const allProjectImages = [project.mainImageUrl || ''].concat(project.galleryImages || []).filter(url => url);

                projectCard.dataset.projectData = JSON.stringify({
                    images: allProjectImages,
                    titleAr: project.titleAr,
                    titleEn: project.titleEn,
                    descAr: project.descAr,
                    descEn: project.descEn
                });

                projectCard.addEventListener('click', () => openGallery(projectCard));
                container.appendChild(projectCard);
            });
        }

        function openGallery(cardElement) {
            const projectData = JSON.parse(cardElement.dataset.projectData);
            currentGalleryImages = projectData.images;

            if (currentGalleryImages.length === 0) {
                console.warn("No images available for this project gallery.");
                return;
            }

            modalProjectTitleAr.textContent = projectData.titleAr || '';
            modalProjectTitleEn.textContent = projectData.titleEn || '';
            modalProjectDescAr.textContent = projectData.descAr || '';
            modalProjectDescEn.textContent = projectData.descEn || '';

            modalGalleryThumbnails.innerHTML = '';
            currentGalleryImages.forEach((url, index) => {
                const thumb = document.createElement('img');
                thumb.src = url;
                thumb.alt = `Thumbnail ${index + 1} for ${projectData.titleEn}`; // Improved alt text
                thumb.classList.add('w-full', 'h-auto', 'object-cover', 'rounded-md', 'cursor-pointer');
                thumb.setAttribute('loading', 'lazy'); // Lazy load thumbnails
                thumb.addEventListener('click', () => {
                    currentImageIndex = index;
                    updateModalImage();
                });
                modalGalleryThumbnails.appendChild(thumb);
            });

            currentImageIndex = 0;
            updateModalImage();
            projectGalleryModal.style.display = 'flex';
            document.body.style.overflow = 'hidden'; // Prevent scrolling when modal is open
        }

        function updateModalImage() {
            if (currentGalleryImages.length > 0) {
                modalImage.src = '';
                modalImage.classList.remove('loaded');

                modalImage.onload = () => {
                    modalImage.classList.add('loaded');
                };
                modalImage.src = currentGalleryImages[currentImageIndex];

                modalGalleryThumbnails.querySelectorAll('img').forEach((thumb, index) => {
                    if (index === currentImageIndex) {
                        thumb.classList.add('active-thumbnail');
                    } else {
                        thumb.classList.remove('active-thumbnail');
                    }
                });
            }
        }

        closeButton.addEventListener('click', () => {
            projectGalleryModal.style.display = 'none';
            modalImage.classList.remove('loaded');
            document.body.style.overflow = ''; // Restore scrolling
        });

        projectGalleryModal.addEventListener('click', (e) => {
            if (e.target === projectGalleryModal) {
                projectGalleryModal.style.display = 'none';
                modalImage.classList.remove('loaded');
                document.body.style.overflow = ''; // Restore scrolling
            }
        });

        // Add keyboard navigation for modal (optional but good for accessibility)
        document.addEventListener('keydown', (e) => {
            if (projectGalleryModal.style.display === 'flex') {
                if (e.key === 'Escape') {
                    closeButton.click();
                }
                // Removed Left/Right arrow key navigation as per instruction to remove navigation arrows
            }
        });

        async function getWhatsappPhoneNumber() {
            const contactData = await fetchRealtimeData('contact');
            if (contactData && contactData.whatsappFloatPhone) {
                document.getElementById('whatsapp-float-link').href = `https://wa.me/${contactData.whatsappFloatPhone}`;
            } else {
                console.warn("WhatsApp phone number not found in Firebase 'contact' data.");
            }
        }

        function showWhatsappNotification() {
            const notification = document.getElementById('whatsapp-notification');
            const currentLang = document.documentElement.getAttribute('lang');
            notification.querySelectorAll('span').forEach(span => {
                span.style.display = 'none';
            });
            const currentLangSpan = notification.querySelector(`span[data-lang="${currentLang}"]`);
            if (currentLangSpan) {
                currentLangSpan.style.display = 'inline';
            }
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 2000);
        }

        function setLanguage(lang) {
            document.documentElement.setAttribute('lang', lang);
            document.documentElement.setAttribute('dir', lang === 'ar' ? 'rtl' : 'ltr');
            localStorage.setItem('preferredLanguage', lang);
            // Update document title based on language
            if (lang === 'ar') {
                document.title = "رسلان للحلول الذكية | جميع مشاريع قص الخرسانة، الترميم، التخريم، والإنشاءات في مصر";
            } else {
                document.title = "Raslan Smart Solutions | All Concrete Cutting, Renovation, Drilling, and Construction Projects in Egypt";
            }
            showWhatsappNotification();
        }

        async function loadFooter() {
            const data = await fetchRealtimeData('footer');
            if (!data) return;
            document.getElementById('footer-copyright-ar').textContent = data.copyrightAr || '';
            document.getElementById('footer-copyright-en').textContent = data.copyrightEn || '';
            const poweredByAr = document.getElementById('footer-powered-by-ar');
            const poweredByEn = document.getElementById('footer-powered-by-en');
            if (poweredByAr) poweredByAr.innerHTML = `${data.poweredByAr || ''} <a href="${data.developerWhatsapp || '#'}" target="_blank" class="font-bold hover:underline"><i class="fab fa-whatsapp"></i></a>`;
            if (poweredByEn) poweredByEn.innerHTML = `${data.developerWhatsapp || ''} <a href="${data.developerWhatsapp || '#'}" target="_blank" class="font-bold hover:underline"><i class="fab fa-whatsapp"></i></a>`;
        }

        document.addEventListener('DOMContentLoaded', async () => {
            await Promise.all([
                loadAllProjects(),
                getWhatsappPhoneNumber(),
                loadFooter()
            ]);

            let initialLang = localStorage.getItem('preferredLanguage');
            if (!initialLang) {
                const browserLang = navigator.language || navigator.languages[0];
                initialLang = browserLang.startsWith('ar') ? 'ar' : 'en';
            }
            setLanguage(initialLang);
        });
    </script>
</body>
</html>
